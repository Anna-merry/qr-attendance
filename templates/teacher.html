<!-- templates/teacher.html -->
{% extends "base.html" %}

{% block title %}Кабинет преподавателя — QR-Сканер{% endblock %}

{% block header_content %}
<div class="nav-menu">
    <div class="nav-item active">Главная</div>
    <div class="nav-item">Посещаемость</div>
    <div class="nav-item" onclick="location.href='/teacher/schedule'">Расписание</div>
    <div class="nav-item">QR-коды</div>
</div>
{% endblock %}

{% block content %}
<div class="dashboard teacher-dashboard">
    <div class="welcome-section">
        <h2>Добро пожаловать, {{ current_user.username.split()[0] }}!</h2>
        <p>Преподаватель</p>
    </div>

   <div class="schedule-section">
        <h3>Занятия на сегодня (
            {{ now.strftime('%a, %d.%m')|lower|replace('mon','пн')|replace('tue','вт')|replace('wed','ср')|replace('thu','чт')|replace('fri','пт')|replace('sat','сб')|replace('sun','вс') }}
        ):</h3>
        <div class="classes-container">
            {% if lectures %}
                {% for lesson in lectures %}
                <div class="class-card">
                    <h4>{{ lesson.subject or 'Без названия' }}</h4>
                    <div class="class-time">
                        <span class="time-slot">
                      {{ lesson.start_time.strftime('%H:%M') }}–{{ lesson.end_time.strftime('%H:%M') }}
                       </span>
                    <span class="group-name">{{ lesson.group_name or '—' }}</span>
                        <a href="{{ url_for('qr_fullscreen', item_id=lesson.id) }}" class="mark-btn">
                            Отметиться
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="no-classes">Сегодня занятий нет</div>
            {% endif %}
        </div>
    </div> 
</div>

{% endblock %}