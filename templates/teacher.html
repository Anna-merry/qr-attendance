<!-- templates/teacher.html -->
{% extends "base.html" %}

{% block title %}Кабинет преподавателя — QR-Сканер{% endblock %}

{% block header_content %}
<div class="nav-menu">
    <div class="nav-item active">Главная</div>
    <div class="nav-item">Посещаемость</div>
    <div class="nav-item" onclick="location.href='/teacher/schedule'">Расписание</div>
    <div class="nav-item">QR-коды</div>
</div>
{% endblock %}

{% block content %}
<div class="dashboard teacher-dashboard">
    <div class="welcome-section">
        <h2>Добро пожаловать, {{ current_user.username.split()[0] }}!</h2>
        <p>Вы — преподаватель</p>
    </div>

    <div class="actions-section mb-4">
        <a href="{{ url_for('create_lecture') }}" class="btn btn-primary">+ Создать занятие</a>
    </div>

    <div class="schedule-section">
        <h3>Ваши занятия</h3>
        {% if lectures %}
            <div class="classes-container">
                {% for lecture in lectures %}
                <div class="class-card">
                    <h4>{{ lecture.subject }}</h4>
                    <p><strong>Группа:</strong> {{ lecture.group }}</p>
                    <p><strong>Дата:</strong> {{ lecture.date.strftime('%d.%m.%Y') }}</p>
                    <p><strong>Время:</strong> {{ lecture.time.strftime('%H:%M') }}</p>
                    <a href="{{ url_for('qr_fullscreen', lecture_id=lecture.id) }}" target="_blank">
    Показать QR (полный экран)
</a>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p>У вас пока нет занятий. <a href="{{ url_for('create_lecture') }}">Создайте первое</a>.</p>
        {% endif %}
    </div>
</div>
{% endblock %}